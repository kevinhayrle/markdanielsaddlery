<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mark Daniel Saddlery</title>

  <link rel="stylesheet" href="index.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>

  <!-- HEADER WILL BE INJECTED -->
  <div id="header-placeholder"></div>

  <!-- HERO VIDEO -->
  <section class="stack hero">
  <div class="media-wrapper">

    <video
      id="heroVideo"
      class="hero-video"
      autoplay
      muted
      loop
      playsinline
    ></video>

    <!-- TEXT OVERLAY -->
    <div class="hero-overlay">
    <h1 class="hero-subtitle">CRAFTED FOR THE RIDE</h1>
        <h1 class="hero-title">MARK DANIEL SADDLERY</h1>
    
      <a href="home.html" class="hero-cta">SHOP NOW</a>
    </div>

  </div>
</section>

  <!-- STACK 2 -->
   <section class="stack">
    <div class="media-wrapper">
      <picture>
            <source media="(hover: none) and (pointer: coarse)" srcset="assets/banner2mobile.PNG">
            <img src="assets/banner2.JPG" alt="Banner 2">
      </picture>
    </div>
  </section>

  <!-- STACK 3 -->
  <section class="stack">
    <div class="media-wrapper">
      <picture>
            <source media="(hover: none) and (pointer: coarse)" srcset="assets/banner2mobile.PNG">
            <img src="assets/banner2.JPG" alt="Banner 2">
      </picture>
    </div>
  </section>

  <!-- STACK 4 -->
  <section class="stack">
    <div class="media-wrapper">
      <picture>
            <source media="(hover: none) and (pointer: coarse)" srcset="assets/banner2mobile.PNG">
            <img src="assets/banner2.JPG" alt="Banner 2">
      </picture>
    </div>
  </section>

 <script>

  /* ================= HEADER INJECTION ================= */
  fetch('header.html')
    .then(res => res.text())
    .then(data => {
      document.getElementById('header-placeholder').innerHTML = data;

      const header = document.querySelector('.site-header');

      window.addEventListener('scroll', () => {
        header.classList.toggle('scrolled', window.scrollY > 40);
      });
    });

  /* ================= DIMENSION SWITCH ================= */

  const heroVideo = document.getElementById('heroVideo');
  const phoneQuery = window.matchMedia(
    '(hover: none) and (pointer: coarse)'
  );

  function setHeroVideo() {
    const isPhone = phoneQuery.matches;

    const newSrc = isPhone
      ? 'assets/banner1mobile.mp4'
      : 'assets/banner1.mp4';

    if (heroVideo.dataset.src === newSrc) return;

    heroVideo.dataset.src = newSrc;

    const wasPlaying = !heroVideo.paused;

    heroVideo.src = newSrc;
    heroVideo.load();

    if (wasPlaying) {
      heroVideo.play().catch(() => {});
    }
  }

  // initial
  setHeroVideo();

  // listen ONLY to device capability change (rare)
  phoneQuery.addEventListener('change', setHeroVideo);

</script>



</body>
</html>
